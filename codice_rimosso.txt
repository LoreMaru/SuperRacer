//non funziona
export function spawnRandomObject(scene, car) {
  let objectToSpawn;
  let randomItem = Phaser.Math.Between(1, 10);
  isEven(randomItem) ? objectToSpawn = 'power' : objectToSpawn = 'life';
  console.log(objectToSpawn)
  let obj = scene.physics.add.image(400, -100, `${objectToSpawn}`); // posizione iniziale fuori dallo schermo
  obj.setVelocityY(100); // scende lentamente verso il basso
  obj.setDepth(1); // sopra la pista

  scene.physics.add.overlap(car, obj, collectObject, null, this);
};

export function collectObject (obj){
    obj.disableBody(true, true);    
  }

export function spawnObjectsOverTime(scene, objSpawnDelay, minimumOBJSpawnDelay, car) {
  // genera il nemico
  spawnRandomObject(scene, car);
  // calcola il nuovo ritardo: ogni volta diminuisce del 10%
  objSpawnDelay *= 0.9;
  // limite minimo per non esagerare
  if (objSpawnDelay < minimumOBJSpawnDelay) {
    objSpawnDelay = minimumOBJSpawnDelay;
  }

  // richiama sÃ© stessa dopo il nuovo delay
  scene.time.delayedCall(objSpawnDelay, () => {
    spawnObjectsOverTime(scene, objSpawnDelay, minimumOBJSpawnDelay);
  });
}